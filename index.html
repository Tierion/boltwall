<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>⚡️Boltwall⚡️</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">⚡️Boltwall⚡️</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> ⚡️Boltwall⚡️</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://github.com/prettier/prettier"><img src="https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square" alt="code style: prettier"></a>
					<a href="https://travis-ci.com/Tierion/boltwall"><img src="https://travis-ci.com/Tierion/boltwall.svg?branch=master" alt="Build Status"></a>
				<a href="https://coveralls.io/github/Tierion/boltwall?branch=ci"><img src="https://coveralls.io/repos/github/Tierion/boltwall/badge.svg?branch=ci" alt="Coverage Status"></a></p>
				<a href="#⚡️-boltwall-⚡️" id="⚡️-boltwall-⚡️" style="color: inherit; text-decoration: none;">
					<h1>⚡️ Boltwall ⚡️</h1>
				</a>
				<p>Bitcoin Lightning paywall and authentication using LSATs. Charge to access your API without requiring user accounts, API keys, credit cards, or storing any user data. All you need is a lightning node and a single line of code in your server. Built with <a href="https://lightning.engineering/">LND</a>, Nodejs, and Typescript.</p>
				<p>All you need to put a paywall in front of a route on your server is this one line of code:</p>
				<pre><code class="language-js">app.use(boltwall())</code></pre>
				<ul>
					<li><a href="#%e2%9a%a1%ef%b8%8f-boltwall-%e2%9a%a1%ef%b8%8f">⚡️ Boltwall ⚡️</a><ul>
							<li><a href="#supported-features">Supported Features</a><ul>
									<li><a href="#system-requirements">System Requirements</a></li>
									<li><a href="#usage">Usage</a></li>
									<li><a href="#test-the-api">Test the API</a></li>
									<li><a href="#required-environment-variables">Required Environment Variables</a></li>
								</ul>
							</li>
							<li><a href="#lightning-configs">Lightning Configs</a><ul>
									<li><a href="#what-is-an-lsat">What is an LSAT</a></li>
								</ul>
							</li>
							<li><a href="#authentication-flow">Authentication Flow</a></li>
							<li><a href="#custom-authorization-w-macaroons">Custom Authorization w/ Macaroons</a></li>
							<li><a href="#pre-built-configs">Pre-built Configs</a><ul>
									<li><a href="#timecaveatconfigs"><strong><code>TIME_CAVEAT_CONFIGS</code></strong></a></li>
									<li><a href="#origincaveatconfigs"><strong><code>ORIGIN_CAVEAT_CONFIGS</code></strong></a></li>
									<li><a href="#hodl-invoices">HODL Invoices</a></li>
								</ul>
							</li>
							<li><a href="#example-implementation-and-access-flow">Example Implementation and Access Flow</a></li>
							<li><a href="#generation">Generation</a></li>
							<li><a href="#authorization-flows">Authorization Flows</a></li>
							<li><a href="#making-the-payment">Making the Payment</a></li>
							<li><a href="#a-held-invoice-is-a-paid-invoice">A <code>held</code> Invoice is a Paid Invoice</a><ul>
									<li><a href="#3rd-party-authentication">3rd Party Authentication</a></li>
								</ul>
							</li>
							<li><a href="#usage-1">Usage</a><ul>
									<li><a href="#authentication-flow-1">Authentication flow</a></li>
									<li><a href="#documentation">Documentation</a></li>
								</ul>
							</li>
							<li><a href="#custom-configs--caveats">Custom Configs &amp; Caveats</a></li>
							<li><a href="#rest-api">REST API</a></li>
							<li><a href="#full-api-documentation">Full API Documentation</a></li>
						</ul>
					</li>
				</ul>
				<a href="#supported-features" id="supported-features" style="color: inherit; text-decoration: none;">
					<h3>Supported Features</h3>
				</a>
				<ul>
					<li>New LSAT protocol for authentication</li>
					<li>Protect routes in your own API by using as a middleware</li>
					<li>Custom attenuation via macaroons</li>
					<li>Optional configurations available for time and IP restricted access</li>
					<li><a href="#hodl-invoices">HODL Invoices</a></li>
					<li>oAuth-like authorization for compatible 3rd party services (Coming soon)</li>
				</ul>
				<a href="#system-requirements" id="system-requirements" style="color: inherit; text-decoration: none;">
					<h2>System Requirements</h2>
				</a>
				<ul>
					<li>Node &gt; 11.10.0</li>
					<li>npm &gt; 6.9.0</li>
				</ul>
				<p>Your project must also use <code>Expressjs</code> 4.x as well as the <code>cors</code> and <code>body-parser</code> middleware.
				Restify is also supported although not broadly tested.</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>To use as a middleware in an existing server, just install from npm into your project,
				and use before any routes that you want protected.</p>
				<blockquote>
					<p><strong>NOTE:</strong> Order matters with middleware. Any routes that appear <em>after</em> boltwall will require
						proper authentication in order to access. Boltwall can be used within routes to keep it isolated
					from other routes you want to remain free.</p>
				</blockquote>
				<p>An example project can be seen in <code>src/server.ts</code>, which can be run with <code>yarn start</code>
				(after <a href="#required-environment-variables">configuration</a>).</p>
				<p>A very simple server file, with no special configurations, could look like this:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)
<span class="hljs-keyword">const</span> cors = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cors'</span>)
<span class="hljs-keyword">const</span> bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'body-parser'</span>)

<span class="hljs-keyword">const</span> { boltwall } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'boltwall'</span>)

<span class="hljs-keyword">const</span> app = express()

<span class="hljs-comment">// middleware</span>
app.use(cors())
<span class="hljs-comment">// parse application/x-www-form-urlencoded</span>
app.use(bodyParser.urlencoded({ <span class="hljs-attr">extended</span>: <span class="hljs-literal">false</span> }))
<span class="hljs-comment">// parse application/json</span>
app.use(bodyParser.json())

app.get(<span class="hljs-string">'/'</span>, (_req, res) =&gt; {
  <span class="hljs-keyword">return</span> res.json({
    <span class="hljs-attr">message</span>: <span class="hljs-string">'Home route comes before boltwall and so is unprotected.'</span>,
  })
})

app.use(boltwall())

<span class="hljs-comment">// this will require payment and proper lsat to access</span>
app.get(<span class="hljs-string">'/protected'</span>, (_req, res) =&gt;
  res.json({
    <span class="hljs-attr">message</span>:
      <span class="hljs-string">'Protected route! This message will only be returned if an invoice has been paid'</span>,
  })
)

app.listen(<span class="hljs-number">5000</span>, () =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'listening on port 5000!'</span>))</code></pre>
				<a href="#test-the-api" id="test-the-api" style="color: inherit; text-decoration: none;">
					<h2>Test the API</h2>
				</a>
				<p><strong>Running the example server</strong></p>
				<p>To run the test server, clone the repo, add appropriate <a href="#required-environment-variables">configs</a>
				to a local <code>.env</code> file, and from the directory run:</p>
				<pre><code class="language-bash">$ yarn install
$ yarn start</code></pre>
				<p>This runs the server located in <code>/src/server.ts</code>, which you can edit to test the middleware&#39;s
				behavior.</p>
				<p>Once the server is running, you can test the API:</p>
				<ol>
					<li><p><code>GET http://localhost:5000/node</code> to get connection information about your lightning node
						(no payment required).</p>
					</li>
					<li><p><code>GET http://localhost:5000/protected?amount=[amount]</code> will return a <code>402</code> error for payment required. An LSAT challenge
							will be available in the returned <code>WWW-Authenticate</code> header. Decode LSAT to get full invoice information. Amount in query string will be used in invoice generation unless below
						minAmount configured in boltwall. If no amount is set, then minAmount will be used.</p>
					</li>
					<li><p><code>GET http://localhost:5000/protected</code> with appropriate LSAT in Authorization header (including
						preimage) will return the response from the protected route</p>
					</li>
					<li><p><code>POST http://localhost:5000/invoice</code> with the following JSON body to get a new invoice (there
						is no relation to any lsat and so cannot be used for authentication): <code>{ &quot;amount&quot;: 30 }</code></p>
					</li>
					<li><p><code>GET http://localhost:5000/invoice</code> with the appropriate LSAT in Authorization header (even with missing
						payment hash) will return the status of the associated invoice</p>
					</li>
				</ol>
				<p>Read more about the REST API in the <a href="#documentation">documentation</a>.</p>
				<a href="#required-environment-variables" id="required-environment-variables" style="color: inherit; text-decoration: none;">
					<h2>Required Environment Variables</h2>
				</a>
				<p>Several environment variables are required when running <code>boltwall</code>.
					These serve the purpose of connecting to your lightning node and managing/signing macaroons
				for authentication/authorization.</p>
				<a href="#lightning-configs" id="lightning-configs" style="color: inherit; text-decoration: none;">
					<h3>Lightning Configs</h3>
				</a>
				<p><strong>Lightning configs (either lnd connection info <em>or</em> OpenNode API key depending on connection type)
				are required environment variables</strong></p>
				<p>If you are connecting to a lightning node you will need the following in your project&#39;s <code>.env</code> file
				or on the <code>process.env</code> object</p>
				<p>Learn how to find these values for your node
					<a href="https://medium.com/@wbobeirne/making-a-lightning-web-app-part-1-4a13c82f3f78">in this article</a>
				by Will O&#39;Beirne. You can also try this tool by <a href="https://lightningjoule.com/tools/node-info">lightning joule</a>.</p>
				<pre><code><span class="hljs-attr">LND_TLS_CERT</span>=[BASE64 or HEX encoded cert here]
<span class="hljs-attr">LND_MACAROON</span>=[BASE64 or HEX encoded cert here]
<span class="hljs-attr">LND_SOCKET</span>=[address of node here, e.g. localhost:<span class="hljs-number">10006</span>]</code></pre><p>Alternatively, if you are using OpenNode for managing payments,
					<a href="https://dev.opennode.co">create an OpenNode account</a> (currently testnet only),
				generate an API key and save it as:</p>
				<pre><code><span class="hljs-attr">OPEN_NODE_KEY</span>=[API KEY HERE]</code></pre><p>If you have both the lnd configs and OpenNode, <em>lnd will take precedence</em>.</p>
				<p>A <code>SESSION_SECRET</code> can also be set but will be generated with a secure number of random bytes if
				none is provided.</p>
				<pre><code><span class="hljs-symbol">SESSION_SECRET</span>=[RANDOM <span class="hljs-keyword">STRING </span>MINIMUM <span class="hljs-number">32</span> <span class="hljs-keyword">BYTES </span>IN LENGTH]</code></pre><p>If you don&#39;t set this yourself, then the secret is not persisted between server restarts. This means
					that LSATs generated before the restart are no longer valid <em>after</em> restart since the signing key
				used to generate (and validate) macaroons will have changed.</p>
				<a href="#what-is-an-lsat" id="what-is-an-lsat" style="color: inherit; text-decoration: none;">
					<h2>What is an LSAT</h2>
				</a>
				<p>LSATs are a new authentication scheme first introduced by Lightning Labs CTO Olaoluwa Osuntokun. Slides from
				the original presentation can be found <a href="https://docs.google.com/presentation/d/1QSm8tQs35-ZGf7a7a2pvFlSduH3mzvMgQaf-06Jjaow/edit#slide=id.p">here</a>.</p>
				<p>The idea is to create a standardized specification format for dealing with <em>payment-based</em> authentication,
					in contrast to the username/password (a.k.a. &quot;Basic Authentication&quot;) and token based (most commonly used in
					OAuth constructions) authentication schemes in common use today. By combining a
					cryptographically verifiable proof of payment from a lightning invoice with its corresponding
					preimage and a <a href="http://hackingdistributed.com/2014/05/16/macaroons-are-better-than-cookies/">macaroon</a>,
				the idea is that a new, flexible, and private authorization protocol can be developed.</p>
				<p>Checkout <code>lsat-js</code> for a separate utility library available for manipulating, interacting
				with, and validating LSATs. Available on npm: <a href="https://www.npmjs.com/package/lsat-js">https://www.npmjs.com/package/lsat-js</a></p>
				<a href="#authentication-flow" id="authentication-flow" style="color: inherit; text-decoration: none;">
					<h3>Authentication Flow</h3>
				</a>
				<p>There are three main stages to the authentication flow with LSATS:</p>
				<ol>
					<li><p>When a request is made to protected route, a <code>402 Payment Required</code> response is sent back.
							This includes a <code>WWW-Authenticate</code> header with an LSAT. This is an encoded &quot;challenge&quot;
						that includes a macaroon (read more below to learn how these work) and an invoice value.</p>
					</li>
					<li><p>The consumer of the API extracts and pays the invoice from the LSAT. After payment, a payment preimage
						should be revealed that acts as a cryptographically verifiable proof of payment.</p>
					</li>
					<li><p>The consumer can now compose their LSAT using the preimage and the macaroon from the original challenge
						and put it in the <code>Authorization</code> http header like so: <code>LSAT [macaroon]:[preimage]</code></p>
					</li>
				</ol>
				<p>Since the payment hash associated with the paid invoice could <em>only</em> have been generated using the preimage
					(also known as a &quot;secret&quot;) and that preimage would be impossible to guess and so could only have been retrieved
				after paying the invoice, this serves as proof of payment and the server can verify that the request is authorized.</p>
				<a href="#custom-authorization-w-macaroons" id="custom-authorization-w-macaroons" style="color: inherit; text-decoration: none;">
					<h3>Custom Authorization w/ Macaroons</h3>
				</a>
				<p>Boltwall allows for flexible authorization schemes. Effectively, this means that a server
					that is implementing Boltwall to protect content can dictate factors such as how long
				authorization is valid for based off of a payment or restrict access to only the originating IP.</p>
				<p>As an example, the configuration in the example file <code>src/server.ts</code>, sets up authorization that
					is valid for 1 second for every satoshi paid in the invoice.
				So if a user pays a 30 satoshi invoice, then access is allowed for 30 seconds.</p>
				<p>The config object should be passed to <code>boltwall</code> on initialization. e.g. <code>app.use(boltwall(myConfig))</code>, where <code>myConfig</code> provides the relevant properties. Currently, the config supports
				four properties: <code>getCaveats</code>(func), <code>caveatSatisfiers</code> (func), <code>getInvoiceDescription</code>, and <code>minAmount</code>.</p>
				<p>More information on the configs can be found in the
				<a href="https://Tierion.github.io/boltwall/interfaces/_src_typings_configs_d_.boltwallconfig.html">API Documentation</a>.</p>
				<a href="#pre-built-configs" id="pre-built-configs" style="color: inherit; text-decoration: none;">
					<h3>Pre-built Configs</h3>
				</a>
				<p>Boltwall exposes some default configs you can use in your own server. Simply import
					them from the module and then pass them into boltwall when <code>use</code>ing it in your express
				server.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { boltwall, TIME_CAVEAT_CONFIGS } <span class="hljs-keyword">from</span> <span class="hljs-string">'boltwall'</span>

<span class="hljs-comment">// ...  rest of your server code</span>

app.use(boltwall(TIME_CAVEAT_CONFIGS))

<span class="hljs-comment">// ... protected routes and any other server code</span></code></pre>
				<p>Since <code>getCaveats</code> and <code>caveatSatisfiers</code> can also accept an array of functions,
				you can also combine configs to add multiple caveats and their corresponding satisfiers.</p>
				<p>Currently Boltwall provides the following configs:</p>
				<a href="#strongcodetime_caveat_configscodestrong" id="strongcodetime_caveat_configscodestrong" style="color: inherit; text-decoration: none;">
					<h4><strong><code>TIME_CAVEAT_CONFIGS</code></strong></h4>
				</a>
				<p>This creates a restriction that any authorization is only valid for a number of seconds
				equal to the number of satoshis paid.</p>
				<p>There is also support for a custom rate expressed in satoshis/second that can be added to the boltwall
					config object. The expiration time will be calculated according to this rate and the number of
				satoshis required for payment in the invoice.</p>
				<p>For example, if the rate is .01 satoshis per second, and a 10,000 satoshi invoice requires payment
					to validate the LSAT, then a caveat will be attached that expires in 1,000,000 seconds (10000/.01)
				or approximately 11.5 days.</p>
				<p>To get the above result, simply initialize boltwall like this:</p>
				<pre><code class="language-javascript">app.use(boltwall({ ...TIME_CAVEAT_CONFIGS, <span class="hljs-attr">rate</span>: <span class="hljs-number">0.01</span> }))</code></pre>
				<a href="#strongcodeorigin_caveat_configscodestrong" id="strongcodeorigin_caveat_configscodestrong" style="color: inherit; text-decoration: none;">
					<h4><strong><code>ORIGIN_CAVEAT_CONFIGS</code></strong></h4>
				</a>
				<p>This creates a restriction that any authorization is only valid from the IP that originally
				made the request for access.</p>
				<a href="#hodl-invoices" id="hodl-invoices" style="color: inherit; text-decoration: none;">
					<h2>HODL Invoices</h2>
				</a>
				<p>HODL invoices are a unique payment construction in lightning that allow a payee
				to simulate escrow-type situations or fidelity bonds in a lightning payment.</p>
				<p>In a nutshell, a HODL invoice allows you to create a payment that does not
					automatically settle, but instead is &quot;held&quot; until someone (either the owner of the node
					or, more likely, some other party that is prepared to release the payment based
					on some conditions) reveals the preimage that the invoice is locked to. If
					this secret is never revealed, the <code>held</code> payment is eventually refunded back to the
					original payer.
					You can read more about how they are constructed and examples of potential use-cases
				<a href="https://github.com/lightningnetwork/lnd/pull/2022">here</a>.</p>
				<p><strong>NOTE:</strong> Your lightning node MUST have the <code>invoicesrpc</code> flag enabled in order
				to support hodl invoices.</p>
				<p>Boltwall includes basic support for creating and settling hodl invoices (cancelling
					must be done directly by the owner of the node and is not exposed via the Boltwall
				API at this time to avoid exposing potential <a href="https://en.wikipedia.org/wiki/Double-spending">double-spend</a>-like risks).</p>
				<a href="#example-implementation-and-access-flow" id="example-implementation-and-access-flow" style="color: inherit; text-decoration: none;">
					<h3>Example Implementation and Access Flow</h3>
				</a>
				<p>To enable a paywall that uses hodl invoices instead of normal invoices, simply initialize
				the middleware with <code>hodl</code> set to true in the config:</p>
				<pre><code class="language-js">app.use(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (req.path === <span class="hljs-string">'protected'</span> &amp;&amp; !req.body.paymentHash) {
    <span class="hljs-comment">// Note: you'll probably want to save the secret somehow</span>
    <span class="hljs-comment">// otherwise the hodl invoice can't be redeemed</span>
    <span class="hljs-keyword">const</span> secret = crypto.randomBytes(<span class="hljs-number">32</span>)
    <span class="hljs-keyword">const</span> paymentHash = crypto
        .createHash(<span class="hljs-string">'sha256'</span>)
        .update(secret)
        .digest()
    req.body.paymentHash = paymentHash
  }
  next()
})
app.use(boltwall{ <span class="hljs-attr">hodl</span>: <span class="hljs-literal">true</span> })
<span class="hljs-comment">// all routes after this will require payment to a hodl invoice</span>
app.get(<span class="hljs-string">'/protected'</span>, (req, res) =&gt; res.send(<span class="hljs-string">'This route is protected'</span>))</code></pre>
				<ol>
					<li>The initial request for the route <em>requires</em> a paymentHash in the request body. This is
						how a hodl invoice is created. The payment hash can either be provided by the client
					or added in a middleware before <code>boltwall</code> is initialized (as in the example above).</li>
					<li>Boltwall will return an LSAT challenge in the <code>WWW-Authenticate</code> header as normal</li>
					<li>The client should pay the invoice.</li>
					<li>Since this is a hodl invoice, the client won&#39;t get a <code>preimage</code> until the invoice settles.
						How this is managed is up to the implementor and the architecture of the application. If the
						server is storing the secret, or retrieving it by some other means (such as with split payments),
					it can add it to the LSAT when it wants to invalidate <em>future</em> requests.</li>
					<li>Once the invoice settles and has a status of <code>paid</code> (instead of <code>held</code>) the LSAT is considered
					expired and future requests will be <code>Unauthorized</code></li>
				</ol>
				<a href="#generation" id="generation" style="color: inherit; text-decoration: none;">
					<h3>Generation</h3>
				</a>
				<p>The source of the pre-image and payment hash can be whatever you want. One common
					construction is for the pair to be tied to another invoice, which makes it so that the HODL
				invoice can&#39;t settle until another invoice settles and reveals its own preimage.</p>
				<a href="#authorization-flows" id="authorization-flows" style="color: inherit; text-decoration: none;">
					<h3>Authorization Flows</h3>
				</a>
				<p>All authorization mechanisms (i.e. via macaroons) are preserved when using HODL invoices.
					The root macaroon is created and added to the LSAT when creating the invoice as normal.
					If time caveats are enabled, then this will timeout based on the amount paid. Custom
				configurations can be devised and passed in to boltwall upon initialization.</p>
				<a href="#making-the-payment" id="making-the-payment" style="color: inherit; text-decoration: none;">
					<h3>Making the Payment</h3>
				</a>
				<p>When making the payment with your lightning client, it may look like the payment
					is stuck or is hanging. This is normal and is the result of a client having no way
					to know whether an invoice is normal or HODL so it is waiting for the invoice to settle.
				This won&#39;t happen for a HODL invoice until you settle it with the preimage.</p>
				<a href="#a-codeheldcode-invoice-is-a-paid-invoice" id="a-codeheldcode-invoice-is-a-paid-invoice" style="color: inherit; text-decoration: none;">
					<h3>A <code>held</code> Invoice is a Paid Invoice</h3>
				</a>
				<p>What this means is that the paywall considers the invoice paid and &quot;unlocks&quot;
					the protected content, by providing the discharge macaroon even though your node
				technically may not have settled the payment yet and so doesn&#39;t have access to the funds.</p>
				<p>Boltwall&#39;s default behavior for handling HODL LSAT requests is to settle an invoice when
					the secret is provided in the LSAT <em>after</em> the request has been authorized. This means
					that a request with the secret will be the <em>last</em> request for that LSAT since afterwards
				it will be <code>paid</code> and therefore &quot;expired&quot;.</p>
				<a href="#3rd-party-authentication" id="3rd-party-authentication" style="color: inherit; text-decoration: none;">
					<h2>3rd Party Authentication</h2>
				</a>
				<a href="#usage-1" id="usage-1" style="color: inherit; text-decoration: none;">
					<h3>Usage</h3>
				</a>
				<p>To enable, simply set <code>oauth</code> to true when initializing middleware:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { boltwall } <span class="hljs-keyword">from</span> <span class="hljs-string">'boltwall'</span>

<span class="hljs-comment">// ...  rest of your server code</span>

app.use(boltwall({ <span class="hljs-attr">oauth</span>: <span class="hljs-literal">true</span> }))

<span class="hljs-comment">// ... protected routes and any other server code</span></code></pre>
				<p>This will add a requirement for requests to protected routes that an <code>auth_uri</code> be indicated
					in the request query. This indicates the 3rd party server that will process and confirm payments,
				ultimately signing a &quot;challenge&quot; to enable the holder of the corresponding LSAT access to the protected route.</p>
				<p>Both the server processing requests for protected routes and the authorizing server signing the challenge
				must have <code>oauth</code> enabled.</p>
				<p><strong>NOTE:</strong>
					Boltwall&#39;s upgrade to support LSATs <em>removed</em> previous support for 3rd party caveats
					to enable OAuth-like constructions. A coordination step around a shared key was used to verify
					3rd party caveats and corresponding discharge macaroons. Since Boltwall v5, a new protocol
				is used that no longer requires any coordination to support 3rd party authentication.</p>
				<p>The use of macaroons for authorization allows for a lot of flexibility. Aside from the customization laid out
					in the section above covering the configurations, <code>boltwall</code>&#39;s API also enables authorization schemes
				with 3rd parties or as a 3rd party itself.</p>
				<p><strong>Think of it like running your own oAuth service.</strong></p>
				<p>In the same way that Google&#39;s oAuth allows a 3rd party service to sign you in to their platform by verifying
					your Google account, with Boltwall, your API can act like Google, where instead of verifying your account, the
					service verifies payment. An example of how this can be implemented is in the <a href="https://prismreader.app">Prism Reader</a> app.
					Prism Reader hosts documents provided by users. Authors of content can optionally require payment to view that content. Rather
					than Prism acting as a custodian for the funds and issuing payouts, an author can run a boltwall instance, give Prism
					the url of your API, and users will then <strong>only be able to read your content once <em>your
				server</em> has acknowledged payment</strong>!</p>
				<a href="#authentication-flow-1" id="authentication-flow-1" style="color: inherit; text-decoration: none;">
					<h4>Authentication flow</h4>
				</a>
				<p>The below image should give an idea of the authentication flow between the boltwall api, a lightning node,
					a 3rd party app requiring authorization, and the client paying for access.
				<img src="https://raw.githubusercontent.com/Tierion/boltwall/master/boltwall-diagram.png" alt="boltwal architecture diagram" title="diagram"></p>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<a href="#custom-configs-amp-caveats" id="custom-configs-amp-caveats" style="color: inherit; text-decoration: none;">
					<h3>Custom Configs &amp; Caveats</h3>
				</a>
				<p>Boltwall supports custom configurations that can be set on initialization.
					One important part of this is the ability to create custom macaroon caveats and the satisfiers
					your server will use to evaluate their validity. The <code>TIME</code> and <code>ORIGIN</code> configs described above
					are just two examples of these. Note that each caveat must have a corresponding satisfier
				in order for a macaroon to validate.</p>
				<p>The properties that can be passed (none are required) to the boltwall config object are:</p>
				<ul>
					<li><code>getCaveats</code>: function or array of functions to generate caveats attached to LSAT macaroons</li>
					<li><code>caveatSatisfiers</code>- (required if getCaveats is set) Satisfier object or array of Satisfiers
						(see full documentation for more details on writing your own satisfiers) for evaluating
					caveats on a macaroon.</li>
					<li><code>getInvoiceDescription</code> - an optional function that returns a string to be used in the invoice description</li>
					<li><code>minAmount</code> - minimum amount to create invoices with if none is passed in request body</li>
					<li><code>hodl</code>- (optional, false by default) boolean, true to enable a hodl paywall.</li>
					<li><code>oauth</code>- (optional, false by default) boolean, true to enable 3rd party authentication.</li>
					<li><code>rate</code> - (optional, undefined by default) float, a rate to be used by other caveatGetters.
					For example, the TIME_CAVEAT_CONFIGS applies this as a satoshis/second value to calculate expiration.</li>
				</ul>
				<p>More indepth documentation for these properties can be found in the <a href="https://Tierion.github.io/boltwall/interfaces/_src_typings_configs_d_.boltwallconfig.html">docs</a></p>
				<a href="#rest-api" id="rest-api" style="color: inherit; text-decoration: none;">
					<h3>REST API</h3>
				</a>
				<p>Check out the Swagger Docs for detailed API information. This details what to expect
				at the various routes provided for by <code>Boltwall</code>.</p>
				<p><strong><a href="https://app.swaggerhub.com/apis-docs/boltwall/boltwall/2.0.0-beta-oas3">REST API</a></strong></p>
				<a href="#full-api-documentation" id="full-api-documentation" style="color: inherit; text-decoration: none;">
					<h3>Full API Documentation</h3>
				</a>
				<p>API documentation, with details on the code, API, and Typescript definitions
				can be found at the <a href="https://Tierion.github.io/boltwall/">documentation website</a>.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class="label tsd-is-external">
						<span>Internals</span>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_configs_index_.html">&quot;src/configs/index&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_configs_origin_.html">&quot;src/configs/origin&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_configs_time_.html">&quot;src/configs/time&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_helpers_.html">&quot;src/helpers&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_index_.html">&quot;src/index&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_index_.html">&quot;src/routes/index&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_invoice_.html">&quot;src/routes/invoice&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_node_.html">&quot;src/routes/node&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_parseenv_.html">&quot;src/routes/parse<wbr>Env&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_paywall_.html">&quot;src/routes/paywall&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_token_.html">&quot;src/routes/token&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_routes_validate_.html">&quot;src/routes/validate&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_satisfiers_challenge_.html">&quot;src/satisfiers/challenge&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_satisfiers_index_.html">&quot;src/satisfiers/index&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_satisfiers_origin_.html">&quot;src/satisfiers/origin&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_server_.html">&quot;src/server&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_configs_d_.html">&quot;src/typings/configs.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_index_.html">&quot;src/typings/index&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_invoice_d_.html">&quot;src/typings/invoice.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_is_base64_d_.html">&quot;src/typings/is-<wbr>base64.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_logger_d_.html">&quot;src/typings/logger.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_modules_d_.html">&quot;src/typings/modules.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_node_d_.html">&quot;src/typings/node.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_src_typings_request_d_.html">&quot;src/typings/request.d&quot;</a>
					</li>
					<li class="label tsd-is-external">
						<span>Externals</span>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_bn_js_index_d_.html">&quot;node_<wbr>modules/@types/bn.js/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_body_parser_index_d_.html">&quot;node_<wbr>modules/@types/body-<wbr>parser/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_bytebuffer_index_d_.html">&quot;node_<wbr>modules/@types/bytebuffer/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_caseless_index_d_.html">&quot;node_<wbr>modules/@types/caseless/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_chai_index_d_.html">&quot;node_<wbr>modules/@types/chai/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_color_name_index_d_.html">&quot;node_<wbr>modules/@types/color-<wbr>name/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_connect_index_d_.html">&quot;node_<wbr>modules/@types/connect/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_cookiejar_index_d_.html">&quot;node_<wbr>modules/@types/cookiejar/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_cors_index_d_.html">&quot;node_<wbr>modules/@types/cors/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_debug_index_d_.html">&quot;node_<wbr>modules/@types/debug/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_dotenv_index_d_.html">&quot;node_<wbr>modules/@types/dotenv/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_eslint_visitor_keys_index_d_.html">&quot;node_<wbr>modules/@types/eslint-<wbr>visitor-<wbr>keys/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_express_serve_static_core_index_d_.html">&quot;node_<wbr>modules/@types/express-<wbr>serve-<wbr>static-<wbr>core/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_express_index_d_.html">&quot;node_<wbr>modules/@types/express/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_json_schema_index_d_.html">&quot;node_<wbr>modules/@types/json-<wbr>schema/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_json5_index_d_.html">&quot;node_<wbr>modules/@types/json5/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_long_index_d_.html">&quot;node_<wbr>modules/@types/long/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_mime_index_d_.html">&quot;node_<wbr>modules/@types/mime/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_minimatch_index_d_.html">&quot;node_<wbr>modules/@types/minimatch/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_mocha_index_d_.html">&quot;node_<wbr>modules/@types/mocha/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_assert_d_.html">&quot;node_<wbr>modules/@types/node/assert.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_async_hooks_d_.html">&quot;node_<wbr>modules/@types/node/async_<wbr>hooks.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_base_d_.html">&quot;node_<wbr>modules/@types/node/base.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_buffer_d_.html">&quot;node_<wbr>modules/@types/node/buffer.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_child_process_d_.html">&quot;node_<wbr>modules/@types/node/child_<wbr>process.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_cluster_d_.html">&quot;node_<wbr>modules/@types/node/cluster.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_console_d_.html">&quot;node_<wbr>modules/@types/node/console.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_constants_d_.html">&quot;node_<wbr>modules/@types/node/constants.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_crypto_d_.html">&quot;node_<wbr>modules/@types/node/crypto.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_dgram_d_.html">&quot;node_<wbr>modules/@types/node/dgram.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_dns_d_.html">&quot;node_<wbr>modules/@types/node/dns.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_domain_d_.html">&quot;node_<wbr>modules/@types/node/domain.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_events_d_.html">&quot;node_<wbr>modules/@types/node/events.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_fs_d_.html">&quot;node_<wbr>modules/@types/node/fs.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_globals_d_.html">&quot;node_<wbr>modules/@types/node/globals.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_http_d_.html">&quot;node_<wbr>modules/@types/node/http.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_http2_d_.html">&quot;node_<wbr>modules/@types/node/http2.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_https_d_.html">&quot;node_<wbr>modules/@types/node/https.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_inspector_d_.html">&quot;node_<wbr>modules/@types/node/inspector.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_module_d_.html">&quot;node_<wbr>modules/@types/node/module.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_net_d_.html">&quot;node_<wbr>modules/@types/node/net.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_os_d_.html">&quot;node_<wbr>modules/@types/node/os.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_path_d_.html">&quot;node_<wbr>modules/@types/node/path.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_perf_hooks_d_.html">&quot;node_<wbr>modules/@types/node/perf_<wbr>hooks.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_process_d_.html">&quot;node_<wbr>modules/@types/node/process.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_punycode_d_.html">&quot;node_<wbr>modules/@types/node/punycode.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_querystring_d_.html">&quot;node_<wbr>modules/@types/node/querystring.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_readline_d_.html">&quot;node_<wbr>modules/@types/node/readline.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_repl_d_.html">&quot;node_<wbr>modules/@types/node/repl.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_stream_d_.html">&quot;node_<wbr>modules/@types/node/stream.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_string_decoder_d_.html">&quot;node_<wbr>modules/@types/node/string_<wbr>decoder.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_timers_d_.html">&quot;node_<wbr>modules/@types/node/timers.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_tls_d_.html">&quot;node_<wbr>modules/@types/node/tls.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_trace_events_d_.html">&quot;node_<wbr>modules/@types/node/trace_<wbr>events.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_ts3_2_fs_d_.html">&quot;node_<wbr>modules/@types/node/ts3.2/fs.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_ts3_2_globals_d_.html">&quot;node_<wbr>modules/@types/node/ts3.2/globals.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_ts3_2_index_d_.html">&quot;node_<wbr>modules/@types/node/ts3.2/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_ts3_2_util_d_.html">&quot;node_<wbr>modules/@types/node/ts3.2/util.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_tty_d_.html">&quot;node_<wbr>modules/@types/node/tty.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_url_d_.html">&quot;node_<wbr>modules/@types/node/url.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_util_d_.html">&quot;node_<wbr>modules/@types/node/util.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_v8_d_.html">&quot;node_<wbr>modules/@types/node/v8.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_vm_d_.html">&quot;node_<wbr>modules/@types/node/vm.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_worker_threads_d_.html">&quot;node_<wbr>modules/@types/node/worker_<wbr>threads.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_node_zlib_d_.html">&quot;node_<wbr>modules/@types/node/zlib.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_range_parser_index_d_.html">&quot;node_<wbr>modules/@types/range-<wbr>parser/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_request_promise_native_index_d_.html">&quot;node_<wbr>modules/@types/request-<wbr>promise-<wbr>native/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_request_index_d_.html">&quot;node_<wbr>modules/@types/request/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_serve_static_index_d_.html">&quot;node_<wbr>modules/@types/serve-<wbr>static/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_sinon_ts3_1_index_d_.html">&quot;node_<wbr>modules/@types/sinon/ts3.1/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_superagent_index_d_.html">&quot;node_<wbr>modules/@types/superagent/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_supertest_index_d_.html">&quot;node_<wbr>modules/@types/supertest/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_tough_cookie_index_d_.html">&quot;node_<wbr>modules/@types/tough-<wbr>cookie/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_uuid_index_d_.html">&quot;node_<wbr>modules/@types/uuid/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules__types_uuid_interfaces_d_.html">&quot;node_<wbr>modules/@types/uuid/interfaces.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_compose_middleware_lib_index_d_.html">&quot;node_<wbr>modules/compose-<wbr>middleware/lib/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_compose_middleware_node_modules_array_flatten_array_flatten_d_.html">&quot;node_<wbr>modules/compose-<wbr>middleware/node_<wbr>modules/array-<wbr>flatten/array-<wbr>flatten.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_form_data_index_d_.html">&quot;node_<wbr>modules/form-<wbr>data/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_caveat_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/caveat.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_identifier_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/identifier.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_index_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_lsat_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/lsat.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_satisfiers_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/satisfiers.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_types_index_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/types/index.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_types_lsat_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/types/lsat.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_types_macaroons_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/types/macaroons.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_lsat_js_dist_types_satisfier_d_.html">&quot;node_<wbr>modules/lsat-<wbr>js/dist/types/satisfier.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_dom_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.dom.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_collection_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.collection.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_core_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.core.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_generator_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.generator.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_iterable_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.iterable.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_promise_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.promise.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_proxy_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.proxy.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_reflect_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.reflect.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_symbol_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.symbol.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2015_symbol_wellknown_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2015.symbol.wellknown.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2016_array_include_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2016.array.include.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2016_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2016.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_intl_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.intl.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_object_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.object.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_sharedmemory_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.sharedmemory.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_string_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.string.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2017_typedarrays_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2017.typedarrays.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_asyncgenerator_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.asyncgenerator.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_asynciterable_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.asynciterable.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_intl_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.intl.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_promise_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.promise.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es2018_regexp_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es2018.regexp.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_es5_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.es5.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_esnext_bigint_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.esnext.bigint.d&quot;</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_node_modules_typescript_lib_lib_esnext_intl_d_.html">&quot;node_<wbr>modules/typescript/lib/lib.esnext.intl.d&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>